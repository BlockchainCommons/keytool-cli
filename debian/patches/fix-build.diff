Description: Fix build.
  .
 keytool-cli (0.7.0-1) UNRELEASED; urgency=medium
 .
   * Initial release.
Author: Nicholas Ochiel <nochiel@users.noreply.github.com>

---
The information above should follow the Patch Tagging Guidelines, please
checkout http://dep.debian.net/deps/dep3/ to learn about the format. Here
are templates for supplementary fields that you might want to add:

Origin: <vendor|upstream|other>, <url of original patch>
Bug: <url in upstream bugtracker>
Bug-Debian: https://bugs.debian.org/<bugnumber>
Bug-Ubuntu: https://launchpad.net/bugs/<bugnumber>
Forwarded: <no|not-needed|url proving that it has been forwarded>
Reviewed-By: <name and email of someone who approved the patch>
Last-Update: 2023-02-05

--- keytool-cli-0.7.0.orig/deps/argp-standalone/argp-standalone/argp-fmtstream.h
+++ keytool-cli-0.7.0/deps/argp-standalone/argp-standalone/argp-fmtstream.h
@@ -192,7 +192,7 @@ extern void __argp_fmtstream_update (arg
 extern int _argp_fmtstream_ensure (argp_fmtstream_t __fs, size_t __amount);
 extern int __argp_fmtstream_ensure (argp_fmtstream_t __fs, size_t __amount);
 
-#ifdef __OPTIMIZE__
+#if defined(__OPTIMIZE__) && !defined(__clang__)
 /* Inline versions of above routines.  */
 
 #if !_LIBC
--- keytool-cli-0.7.0.orig/deps/bc-ur/src/Makefile.in
+++ keytool-cli-0.7.0/deps/bc-ur/src/Makefile.in
@@ -29,7 +29,7 @@ RESET=`tput sgr0`
 
 COMPILER = g++
 CFLAGS += --debug -O0
-CXXFLAGS += -std=c++17 -stdlib=libc++ --debug -O0
+CXXFLAGS += -std=c++17 --debug -O0
 
 ARFLAGS = rcs
 
--- keytool-cli-0.7.0.orig/deps/bc-ur/src/xoshiro256.hpp
+++ keytool-cli-0.7.0/deps/bc-ur/src/xoshiro256.hpp
@@ -11,6 +11,7 @@
 #include <stdint.h>
 #include <array>
 #include <string>
+#include <cstring>
 #include "utils.hpp"
 
 namespace ur {
--- keytool-cli-0.7.0.orig/deps/bc-ur/test/Makefile.in
+++ keytool-cli-0.7.0/deps/bc-ur/test/Makefile.in
@@ -29,12 +29,12 @@ RESET=`tput sgr0`
 
 COMPILER = g++
 CFLAGS += --debug -O0
-CXXFLAGS += -std=c++17 -stdlib=libc++ --debug -O0
+CXXFLAGS += -std=c++17 --debug -O0
 
 UNAME := $(shell uname)
 
 ifeq ($(UNAME), Linux)
-    LDLIBS +=  -lm -lc++ -lc++abi -lgcc_s -lgcc
+    LDLIBS +=  -lm  -lgcc_s -lgcc -lstdc++
 else ifeq ($(findstring MINGW64, $(UNAME)), MINGW64)
     # on windows building with msys2/mingw64
     LDLIBS +=  -lm -lc++ -lws2_32
--- keytool-cli-0.7.0.orig/src/Makefile.in
+++ keytool-cli-0.7.0/src/Makefile.in
@@ -28,7 +28,7 @@ RESET=`tput sgr0`
 
 COMPILER = g++
 CFLAGS += --debug -O0
-CXXFLAGS += -std=c++17 -stdlib=libc++ --debug -O0
+CXXFLAGS += -std=c++17 --debug -O0
 
 toolname = keytool
 
@@ -80,7 +80,7 @@ LDLIBS += -lwallycore -lsecp256k1 -largp
 
 UNAME := $(shell uname)
 ifeq ($(UNAME), Linux)
-    LDLIBS += -lm -lc++ -lc++abi -lgcc_s -lgcc
+    LDLIBS += -lm -lgcc_s -lgcc -lstdc++
 else ifeq ($(findstring MINGW64, $(UNAME)), MINGW64)
     # on windows building with msys2/mingw64
     LDLIBS += -lm -lc++ -lws2_32 -lssp
--- keytool-cli-0.7.0.orig/src/chain-type.hpp
+++ keytool-cli-0.7.0/src/chain-type.hpp
@@ -4,6 +4,7 @@
 #include <optional>
 #include <string>
 #include <vector>
+#include <stdexcept>
 
 class ChainType final {
 public:
--- keytool-cli-0.7.0.orig/src/hd-key.hpp
+++ keytool-cli-0.7.0/src/hd-key.hpp
@@ -3,6 +3,7 @@
 
 #include <string>
 #include <optional>
+#include <limits>
 #include "utils.hpp"
 #include "use-info.hpp"
 #include "derivation-path.hpp"
